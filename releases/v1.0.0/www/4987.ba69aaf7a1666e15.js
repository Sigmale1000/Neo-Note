"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(U,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>L});var c=s(6895),n=s(433),r=s(5035),g=s(8265),d=s(655),e=s(8274),m=s(8368),p=s(9922);function h(o,a){1&o&&(e.TgZ(0,"ion-note",10),e._uU(1,"Email is invalid"),e.qZA())}function f(o,a){1&o&&(e.TgZ(0,"ion-note",10),e._uU(1,"Password needs to be 6 characters"),e.qZA())}const v=[{path:"",component:(()=>{class o{constructor(i,t,l,P,Z,T){this.fb=i,this.loadingController=t,this.alertController=l,this.authService=P,this.router=Z,this.UserService=T}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}ngOnInit(){this.credentials=this.fb.group({email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.minLength(6)]]})}register(){return(0,d.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create();yield i.present();const t=yield this.authService.register(this.credentials.value);yield i.dismiss(),t?this.router.navigateByUrl("/home",{replaceUrl:!0}):this.showAlert("Registration failed","Please try again!")})}login(){return(0,d.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create();yield i.present();const t=yield this.authService.login(this.credentials.value);yield i.dismiss(),t?this.router.navigateByUrl("/home",{replaceUrl:!0}):this.showAlert("Login failed","Please try again!")})}showAlert(i,t){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:i,message:t,buttons:["OK"]})).present()})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(n.qu),e.Y36(r.HT),e.Y36(r.Br),e.Y36(m.e),e.Y36(g.F0),e.Y36(p.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:16,vars:4,consts:[["color","primary"],[1,"ion-text-center"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],["fill","solid",1,"ion-margin-bottom"],["type","email","placeholder","Email","formControlName","email"],["slot","error",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block","color","primary",3,"disabled"],["type","button","expand","block","color","primary",3,"click"],["slot","error"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3,"Login"),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"form",3),e.NdJ("ngSubmit",function(){return t.login()}),e.TgZ(6,"ion-item",4),e._UZ(7,"ion-input",5),e.YNc(8,h,2,0,"ion-note",6),e.qZA(),e.TgZ(9,"ion-item",4),e._UZ(10,"ion-input",7),e.YNc(11,f,2,0,"ion-note",6),e.qZA(),e.TgZ(12,"ion-button",8),e._uU(13,"Log in"),e.qZA(),e.TgZ(14,"ion-button",9),e.NdJ("click",function(){return t.register()}),e._uU(15,"Create account"),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("formGroup",t.credentials),e.xp6(3),e.Q6J("ngIf",(t.email||t.email)&&t.email.errors),e.xp6(3),e.Q6J("ngIf",(t.password||t.password)&&t.password.errors),e.xp6(1),e.Q6J("disabled",!t.credentials.valid))},dependencies:[c.O5,n._Y,n.JJ,n.JL,r.YG,r.W2,r.Gu,r.pK,r.Ie,r.uN,r.wd,r.sr,r.j9,n.sg,n.u]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(v),g.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,n.u5,r.Pc,y,n.UX]}),o})()}}]);