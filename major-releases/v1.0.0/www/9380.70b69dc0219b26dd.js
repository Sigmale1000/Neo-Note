"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9380],{9380:(T,d,i)=>{i.r(d),i.d(d,{NewNotePageModule:()=>y});var p=i(6895),a=i(433),t=i(5035),c=i(8265),g=i(655),u=i(7169),m=i(1858),e=i(8274),f=i(8368),b=i(9922);const w=[{path:"",component:(()=>{class o{constructor(n,r,l,h,N,P,C,Z,x){this.fb=n,this.loadingController=r,this.alertController=l,this.authService=h,this.router=N,this.UserService=P,this.actionSheetCtrl=C,this.firestore=Z,this.toastController=x}customCounterFormatter(n,r){return r-n+" characters remaining"}cameraActionSheet(){return(0,g.mG)(this,void 0,void 0,function*(){const n=yield this.actionSheetCtrl.create({header:"Add new banner",subHeader:"Please upload or take a new banner to add to your note",buttons:[{text:"Upload from device",data:{action:"uploadDevice"}},{text:"Take with camera",data:{action:"takeCamera"}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}]});yield n.present();const r=yield n.onDidDismiss();this.result=JSON.stringify(r,null,2)})}newNote(){return(0,g.mG)(this,void 0,void 0,function*(){const r=(0,m.v0)().currentUser,l=yield this.loadingController.create();yield l.present(),yield(0,u.ET)((0,u.hJ)(this.firestore,`users/${null==r?void 0:r.uid}/notes`),this.credentials.value),this.router.navigateByUrl("/home",{replaceUrl:!0}),yield l.dismiss(),yield(yield this.toastController.create({message:"Succesfully created new note.",duration:1500})).present()})}ngOnInit(){if(null!=(0,m.v0)().currentUser){const l=new Date;this.credentials=this.fb.group({title:["",[a.kI.required,a.kI.minLength(1)]],main:["",[a.kI.minLength(0)]],banner:["",[a.kI.minLength(0)]],createdAt:l,updatetAt:l,image:"",rememberDate:"",expirationDate:""})}}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(a.qu),e.Y36(t.HT),e.Y36(t.Br),e.Y36(f.e),e.Y36(c.F0),e.Y36(b.D),e.Y36(t.BX),e.Y36(u.gg),e.Y36(t.yF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-note"]],decls:24,vars:2,consts:[["slot","start"],["defaultHref","/"],[3,"formGroup","ngSubmit"],["fill","solid","counter","true",1,"ion-margin-bottom"],["type","text","placeholder","Your title","formControlName","title","maxlength","40",1,"titleNote"],["slot","error"],["fill","solid","counter","true",1,"smallTA"],["type","url","placeholder","Your banner (https://example.com/image/img1)","formControlName","banner","maxlength","400",1,"textBanner"],["type","text","placeholder","Your note","formControlName","main","maxlength","3000",1,"textNote"],[3,"click"],["slot","icon-only","name","camera"],["slot","end"],["type","submit",3,"disabled","click"],["slot","icon-only","name","checkmark"]],template:function(n,r){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title",0),e._uU(5,"New Note"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",2),e.NdJ("ngSubmit",function(){return r.newNote()}),e.TgZ(8,"ion-item",3),e._UZ(9,"ion-input",4),e.TgZ(10,"ion-note",5),e._uU(11,"Please enter atleast one character."),e.qZA()(),e.TgZ(12,"ion-item",6),e._UZ(13,"ion-input",7),e.qZA(),e.TgZ(14,"ion-item",6),e._UZ(15,"ion-textarea",8),e.qZA()()(),e.TgZ(16,"ion-footer")(17,"ion-toolbar")(18,"ion-buttons",0)(19,"ion-button",9),e.NdJ("click",function(){return r.cameraActionSheet()}),e._UZ(20,"ion-icon",10),e.qZA()(),e.TgZ(21,"ion-buttons",11)(22,"ion-button",12),e.NdJ("click",function(){return r.newNote()}),e._UZ(23,"ion-icon",13),e.qZA()()()()),2&n&&(e.xp6(7),e.Q6J("formGroup",r.credentials),e.xp6(15),e.Q6J("disabled",!r.credentials.valid))},dependencies:[a._Y,a.JJ,a.JL,a.nD,t.oU,t.YG,t.Sm,t.W2,t.fr,t.Gu,t.gu,t.pK,t.Ie,t.uN,t.g2,t.wd,t.sr,t.j9,t.cs,a.sg,a.u],styles:[".titleNote[_ngcontent-%COMP%]{width:100%;padding:1% 1.5%;font-size:23px}.titleNote[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:rgba(255,255,255,.776)}.textBanner[_ngcontent-%COMP%]{width:100%;padding:1% 1.5%;font-size:18px;resize:horizontal;word-break:break-all;word-wrap:break-word}.textBanner[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:rgba(255,255,255,.776)}.textNote[_ngcontent-%COMP%]{width:100%;padding:1% 1.5%;font-size:18px;height:200vh;word-break:break-all;word-wrap:break-word}.textNote[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:rgba(255,255,255,.776)}"]}),o})()}];let v=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(w),c.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,a.u5,t.Pc,v,a.UX]}),o})()}}]);